package com.selfservice.service;import com.common.model.PageData;import com.common.response.ResponseResult;import com.github.pagehelper.PageHelper;import com.github.pagehelper.PageInfo;import com.google.common.collect.Lists;import com.selfservice.domain.output.QlsxDetailsOutput;import com.selfservice.domain.output.QltQlsxOutput;import com.selfservice.mapper.mybatis.QltQlsxMapper;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;/** * @author: Administrator */@Servicepublic class QlsxDetailsService {  @Autowired  private QltQlsxMapper qltQlsxMapper;  public ResponseResult findPageList(PageData pageData){    PageHelper.startPage(pageData.getPageIndex(),pageData.getRows());    List<QltQlsxOutput> qltQlsxList = qltQlsxMapper.selectPage1(pageData);    PageInfo pageInfo = new PageInfo(qltQlsxList);    return ResponseResult.success(pageInfo);  }  /** 受理地址信息 */  public ResponseResult selectAddressInfo(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //受理地址信息        qlsxDetailsOutput.setAcceptAddressInfo(qltQlsxOutput.getAddressInfo());        qlsxDetailsOutputList.add(qlsxDetailsOutput);      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }  /** 申请条件和限制 */  public ResponseResult selectCountAndRequirement(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //数量限制、禁止性要求        if(qltQlsxOutput.getCountLimit() != null){          if(qltQlsxOutput.getCountLimit().equals("0".trim())){            qlsxDetailsOutput.setCountLimit("无");          }else {            qlsxDetailsOutput.setCountLimit("有");          }          qlsxDetailsOutput.setBanRequirement(qltQlsxOutput.getBanRequirement());          qlsxDetailsOutputList.add(qlsxDetailsOutput);        }      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }  /** 办理流程 */  public ResponseResult selectOutFlow(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //流程、流程图        qlsxDetailsOutput.setOutFlowDesc(qltQlsxOutput.getOutFlowDesc());        qlsxDetailsOutput.setImgFlowUrl(qltQlsxOutput.getImFlowUrl());        qlsxDetailsOutputList.add(qlsxDetailsOutput);      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }  /** 法定依据 */  public ResponseResult selectLawbasis(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //流程、流程图        qlsxDetailsOutput.setLawbasis(qltQlsxOutput.getLawbasis());        qlsxDetailsOutputList.add(qlsxDetailsOutput);      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }  /** 办事者权利和义务 */  public ResponseResult selectQLYW_Info(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //办事者权利和义务        qlsxDetailsOutput.setXingzhenxdrxy(qltQlsxOutput.getXingzhenxdrxy());        qlsxDetailsOutputList.add(qlsxDetailsOutput);      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }  /** 业务审查规范 */  public ResponseResult selectSCYWGF_Info(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //业务审查规范        qlsxDetailsOutput.setQaInfo(qltQlsxOutput.getBusinessRegulate());        qlsxDetailsOutputList.add(qlsxDetailsOutput);      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }  /** 常见问题解答 */  public ResponseResult selectQA_Info(PageData pageData){    List<QltQlsxOutput> list = qltQlsxMapper.selectPage1(pageData);    List<QlsxDetailsOutput> qlsxDetailsOutputList = Lists.newArrayList();    try{      for(QltQlsxOutput qltQlsxOutput : list){        QlsxDetailsOutput qlsxDetailsOutput = new QlsxDetailsOutput();        //常见问题解答        qlsxDetailsOutput.setQaInfo(qltQlsxOutput.getQA_Info());        qlsxDetailsOutputList.add(qlsxDetailsOutput);      }    }catch (Exception e){      e.printStackTrace();    }    return ResponseResult.success(qlsxDetailsOutputList);  }}