package com.screenData.service;import com.google.common.collect.Lists;import com.screenData.core.base.BaseMapper;import com.screenData.core.base.BaseService;import com.screenData.core.base.MybatisBaseMapper;import com.screenData.domain.output.MapCenterOutput;import com.screenData.mapper.jpa.ConfigRepository;import com.screenData.mapper.jpa.MapCenterRepository;import com.screenData.mapper.mybatis.OrganizationMapper;import com.screenData.model.MapCenter;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.cloud.client.loadbalancer.LoadBalancerClient;import org.springframework.stereotype.Service;import javax.servlet.http.HttpServletRequest;import java.util.List;/** * @author: XiGuoQing * @description: * @date: Created in 下午 2:08 2018/10/30 0030 * @modified by: */@Servicepublic class MapCenterService extends BaseService<MapCenterOutput, MapCenter,Integer> {  @Autowired  private MybatisBaseMapper mapCenterMapper; @Autowired private MapCenterRepository mapCenterRepository;  @Autowired  private OrganizationMapper organizationMapper;  @Autowired  private HttpServletRequest request;  @Autowired  private LoadBalancerClient loadBalancerClient;  @Autowired  private ConfigRepository configRepository;  @Override  public BaseMapper<MapCenter, Integer> getMapper() {    return mapCenterRepository;  }  @Override  public MybatisBaseMapper<MapCenterOutput> getMybatisBaseMapper() {    return mapCenterMapper;  }  public List<MapCenter> selectCount() {    List<Integer> idList = Lists.newArrayList();    idList.add(161);    idList.add(162);    idList.add(163);    List<MapCenter> mapCenterList = Lists.newArrayList();    for(int id: idList){      MapCenter mapCenter= new MapCenter();      String name = organizationMapper.selectNameById(id);      mapCenter.setCenterName(name);      mapCenter.setLineCount(Integer.valueOf(configRepository.findByConfigKey("接通专线"+id).getConfigValue()));      mapCenter.setThingCount(Integer.valueOf(configRepository.findByConfigKey("办件事项"+id).getConfigValue()));      mapCenter.setWindowCount(Integer.valueOf(configRepository.findByConfigKey("窗口数量"+id).getConfigValue()));      mapCenterList.add(mapCenter);    }    return mapCenterList;  }}